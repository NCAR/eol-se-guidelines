
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Gary Granger, Jon Allison, Linda Cully">
      
      
      
        <link rel="prev" href="../Tools-and-Technologies/">
      
      
        <link rel="next" href="../Updating-the-Guidelines/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.5">
    
    
      
        <title>Logging Frameworks - EOL Software Development Guidelines</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6a10b989.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#logging-frameworks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="EOL Software Development Guidelines" class="md-header__button md-logo" aria-label="EOL Software Development Guidelines" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EOL Software Development Guidelines
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Logging Frameworks
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/NCAR/eol-se-guidelines" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EOL Software Development Guidelines" class="md-nav__button md-logo" aria-label="EOL Software Development Guidelines" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    EOL Software Development Guidelines
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NCAR/eol-se-guidelines" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EOL Software Development Guidelines
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Purpose-and-Principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Project-Management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Management
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Agile-Software-Development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agile Software Development
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Development-Process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Process
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Code-Sprints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Sprints
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Coding-Guidelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding Guidelines
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Tools-and-Technologies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools and Technologies
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Logging Frameworks
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Logging Frameworks
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nidas" class="md-nav__link">
    NIDAS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boostlog" class="md-nav__link">
    Boost.Log
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log4cpp" class="md-nav__link">
    LOG4CPP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log4cxx-apache" class="md-nav__link">
    log4cxx (Apache)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log4j" class="md-nav__link">
    Log4J
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-further-thinking" class="md-nav__link">
    For Further Thinking
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Updating-the-Guidelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating the Guidelines
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Resources-and-References/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources And References
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Software-Project-Template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Project Template
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nidas" class="md-nav__link">
    NIDAS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boostlog" class="md-nav__link">
    Boost.Log
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log4cpp" class="md-nav__link">
    LOG4CPP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log4cxx-apache" class="md-nav__link">
    log4cxx (Apache)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log4j" class="md-nav__link">
    Log4J
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-further-thinking" class="md-nav__link">
    For Further Thinking
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="logging-frameworks">Logging Frameworks<a class="headerlink" href="#logging-frameworks" title="Permanent link">&para;</a></h1>
<p>This is a quick survey of logging frameworks either used in EOL or which seem
like good candidates for use.</p>
<h2 id="nidas">NIDAS<a class="headerlink" href="#nidas" title="Permanent link">&para;</a></h2>
<p><a href="https://www.eol.ucar.edu/software/nidas/doxygen/html/d0/d58/group__Logging.html">https://www.eol.ucar.edu/software/nidas/doxygen/html/d0/d58/group__Logging.html</a></p>
<p>The NIDAS utility library contains a home-built logging interface. It is self-
contained, and it could be possible to adopt it underneath logx to replace
other software&rsquo;s dependency on log4cpp. That would go a long way towards
trimming down the number of logging frameworks in use in EOL, and maybe the
NIDAS log library would see more development if it were more widely used.</p>
<ul>
<li>in-house</li>
<li>simple active() check before generating message</li>
<li>can be completely compiled out</li>
<li>fixed set of metadata: time, level, file, function, line, tag,</li>
<li>not hierarchical</li>
<li>only single output logger available, either syslog or stream</li>
<li>multithread only</li>
<li>fixed format, but fields can be suppressed</li>
</ul>
<h2 id="boostlog">Boost.Log<a class="headerlink" href="#boostlog" title="Permanent link">&para;</a></h2>
<p>As of Boost 1.54, the Boost library has an official logging framework:</p>
<p><a href="http://www.boost.org/doc/libs/1_54_0/libs/log/doc/html/index.html">http://www.boost.org/doc/libs/1_54_0/libs/log/doc/html/index.html</a></p>
<ul>
<li>any metadata</li>
<li>filter on any metadata</li>
<li>threading supported by templates</li>
<li>support wide characters</li>
<li>formatters associated with each sink</li>
<li>built-in syslog, stream, and rotating file backends</li>
<li>built-in timers</li>
<li>short-circuits message generation without calling a test function</li>
</ul>
<h2 id="log4cpp">LOG4CPP<a class="headerlink" href="#log4cpp" title="Permanent link">&para;</a></h2>
<p><a href="http://log4cpp.sourceforge.net/">http://log4cpp.sourceforge.net/</a></p>
<ul>
<li>widely-used, familiar, portable API (based on Java log4j)</li>
<li>categories</li>
<li>hierarchical</li>
<li>some standard configuration options and output formats supported (eg, xml)</li>
<li>particular implementation we&rsquo;ve used is not under active development</li>
<li>Nested Diagnostic Contexts</li>
</ul>
<p>In EOL, the logx library is a thin wrapper to log4cpp. It adds convenience
methods for things like command-line options and a module-scope logging
category instance with the LOGGING() macro. logx also adds scoped logging: the
ability to log a message when an object comes into scope and then when it
leaves scope.</p>
<h2 id="log4cxx-apache">log4cxx (Apache)<a class="headerlink" href="#log4cxx-apache" title="Permanent link">&para;</a></h2>
<p><a href="http://logging.apache.org/log4cxx/">http://logging.apache.org/log4cxx/</a></p>
<p>I do not know of any uses in EOL, but anything from the Apache project seems
worthy of consideration. It is based on the log4x API, and it should be very
portable.</p>
<ul>
<li>requires APR</li>
<li>under active development</li>
<li>Nested Diagnostic Contexts</li>
<li>built-in configuration</li>
</ul>
<h2 id="log4j">Log4J<a class="headerlink" href="#log4j" title="Permanent link">&para;</a></h2>
<p>I believe the de facto standard for Java, with concepts like Loggers,
Appenders, Layouts, and Categories.</p>
<h2 id="for-further-thinking">For Further Thinking<a class="headerlink" href="#for-further-thinking" title="Permanent link">&para;</a></h2>
<p>Logging should never be compiled out. If you need it during development,
someone else will need it in development, and they should not have to
recompile the tree with new cpp symbol definitions just to get new diagnostic
logging. If it&rsquo;s useful during development, it will likely be useful for
testing and diagnostics on operational code, but only if the logging was left
compiled in. A good logging framework allows expensive message generation to
be skipped if it will not be logged.</p>
<p>Rather than sending messages with statistics, send the statistics and let the
consumer format. Sometimes consumer needed to print to a file or terminal,
sometimes it was a GUI needing to fill in a label. Plus it saves space to send
just the numbers. This introduces the idea of deferring formatting as long as
possible, instead allowing attributes to logged which can be retrieved and
handled later in some custom manner. The boost::logging library provides this
kind of functionality.</p>
<p>It seems like logging and messaging and monitoring should converge to use the
same mechanism. If there&rsquo;s some point in the software with valuable
information to report, then the distinctions between a <em>log message</em> and an
<em>event publication</em> and a <em>status message</em> become arbitrary.</p>
<p>Other features for which we&rsquo;ve had a need: automatic or configurable
throttling, dynamic run-time configuration, stack traces, inventory of log
points (probably best generated by scanning the source).</p>
<p><a href="../Updating-the-Guidelines/">Next page: Updating the Guidelines</a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>